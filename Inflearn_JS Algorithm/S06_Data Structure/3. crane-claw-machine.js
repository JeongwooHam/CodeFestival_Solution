/*
[í¬ë ˆì¸ ì¸í˜• ë½‘ê¸°]
ê²Œìž„ ê°œë°œìžì¸ ì£ ë¥´ë””ëŠ” í¬ë ˆì¸ ì¸í˜• ë½‘ê¸° ê¸°ê³„ë¥¼ ê²Œìž„ìœ¼ë¡œ ë§Œë“œë ¤ í•œë‹¤.
ì£ ë¥´ë””ëŠ” ê²Œìž„ì˜ ìž¬ë¯¸ë¥¼ ë†’ì´ê¸° ìœ„í•´ í™”ë©´ êµ¬ì„±ê³¼ ê·œì¹™ì„ ì•„ëž˜ì™€ ê°™ì´ ê²Œìž„ ë¡œì§ì— ë°˜ì˜í•˜ë ¤ê³  í•œë‹¤.

ê²Œìž„ í™”ë©´ì€ 1 x 1 í¬ê¸°ì˜ ì¹¸ë“¤ë¡œ ì´ë£¨ì–´ì§„ N x N í¬ê¸°ì˜ ì •ì‚¬ê° ê²©ìžì´ë©° 
ìœ„ìª½ì—ëŠ” í¬ë ˆì¸ì´ ìžˆê³  ì˜¤ë¥¸ìª½ì—ëŠ” ë°”êµ¬ë‹ˆê°€ ìžˆë‹¤. 
ê° ê²©ìž ì¹¸ì—ëŠ” ë‹¤ì–‘í•œ ì¸í˜•ì´ ë“¤ì–´ ìžˆìœ¼ë©° ì¸í˜•ì´ ì—†ëŠ” ì¹¸ì€ ë¹ˆì¹¸ì´ë‹¤. 
ëª¨ë“  ì¸í˜•ì€ 1 x 1 í¬ê¸°ì˜ ê²©ìž í•œ ì¹¸ì„ ì°¨ì§€í•˜ë©° ê²©ìžì˜ ê°€ìž¥ ì•„ëž˜ ì¹¸ë¶€í„° ì°¨ê³¡ì°¨ê³¡ ìŒ“ì—¬ ìžˆë‹¤. 
ê²Œìž„ ì‚¬ìš©ìžëŠ” í¬ë ˆì¸ì„ ì¢Œìš°ë¡œ ì›€ì§ì—¬ì„œ ë©ˆì¶˜ ìœ„ì¹˜ì—ì„œ ê°€ìž¥ ìœ„ì— ìžˆëŠ” ì¸í˜•ì„ ì§‘ì–´ ì˜¬ë¦´ ìˆ˜ ìžˆë‹¤. 
ì§‘ì–´ ì˜¬ë¦° ì¸í˜•ì€ ë°”êµ¬ë‹ˆì— ìŒ“ì´ê²Œ ë˜ëŠ”ë°, ì´ë•Œ ë°”êµ¬ë‹ˆì˜ ê°€ìž¥ ì•„ëž˜ ì¹¸ë¶€í„° ì¸í˜•ì´ ìˆœì„œëŒ€ë¡œ ìŒ“ì´ê²Œ ëœë‹¤. 
ë§Œì•½ ê°™ì€ ëª¨ì–‘ì˜ ì¸í˜• ë‘ ê°œê°€ ë°”êµ¬ë‹ˆì— ì—°ì†í•´ì„œ ìŒ“ì´ê²Œ ë˜ë©´ 
ë‘ ì¸í˜•ì€ í„°ëœ¨ë ¤ì§€ë©´ì„œ ë°”êµ¬ë‹ˆì—ì„œ ì‚¬ë¼ì§€ê²Œ ëœë‹¤. 
í¬ë ˆì¸ ìž‘ë™ ì‹œ ì¸í˜•ì´ ì§‘ì–´ì§€ì§€ ì•ŠëŠ” ê²½ìš°ëŠ” ì—†ìœ¼ë‚˜ 
ë§Œì•½ ì¸í˜•ì´ ì—†ëŠ” ê³³ì—ì„œ í¬ë ˆì¸ì„ ìž‘ë™ì‹œí‚¤ëŠ” ê²½ìš°ì—ëŠ” ì•„ë¬´ëŸ° ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤. 
ë˜í•œ ë°”êµ¬ë‹ˆëŠ” ëª¨ë“  ì¸í˜•ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìžˆì„ë§Œí¼ ì¶©ë¶„ížˆ í¬ë‹¤ê³  ê°€ì •í•œë‹¤.
ê²Œìž„ í™”ë©´ì˜ ê²©ìžì˜ ìƒíƒœê°€ ë‹´ê¸´ 2ì°¨ì› ë°°ì—´ boardì™€ 
ì¸í˜•ì„ ì§‘ê¸° ìœ„í•´ í¬ë ˆì¸ì„ ìž‘ë™ì‹œí‚¨ ìœ„ì¹˜ê°€ ë‹´ê¸´ ë°°ì—´ movesê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§ˆ ë•Œ, 
í¬ë ˆì¸ì„ ëª¨ë‘ ìž‘ë™ì‹œí‚¨ í›„ í„°íŠ¸ë ¤ì ¸ ì‚¬ë¼ì§„ ì¸í˜•ì˜ ê°œìˆ˜ë¥¼ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ë¼.
*/

/*
ðŸ¥¸ ì˜ˆìƒ í’€ì´ë²•
1. forë¬¸ìœ¼ë¡œ movesë¥¼ ëˆë‹¤.
2. moves ê° ìš”ì†Œì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ì°¾ê¸° ìœ„í•´ boardë¥¼ forë¬¸ìœ¼ë¡œ ëˆë‹¤. (ì—´ ê³ ì •)
   1) ëŒë©´ì„œ 0ì´ ì•„ë‹Œ ê°’ì„ stackì— ë„£ê³ , í•´ë‹¹ ê°’ì€ 0ìœ¼ë¡œ ë°”ê¾¼ë‹¤.
   2) ëª¨ë‘ 0ì¸ ê²½ìš° ì•„ë¬´ê²ƒë„ ë‹´ì§€ ì•Šê³  í•´ë‹¹ í„´ì„ ëë‚¸ë‹¤.
3. pushí•˜ê¸° ì „ ì´ì „ ê°’ì„ ê²€ì‚¬í•´ ë‘˜ì´ ê°™ìœ¼ë©´ pushí•˜ëŠ” ëŒ€ì‹  popí•œë‹¤. ì´ë•Œ answer+=2 (ë‘ ê°œ!!)
*/

const solution = (board, moves) => {
  let answer = 0;
  let stack = [];
  moves.forEach((pos) => {
    for (let i = 0; i < board.length; i++) {
      // 0ì´ ì•„ë‹Œ ê°’ ì°¾ê¸°
      if (board[i][pos - 1] !== 0) {
        let tmp = board[i][pos - 1];
        board[i][pos - 1] = 0;
        // êº¼ë‚¸ ì¸í˜•ì´ stack ìƒë‹¨ì˜ ê°’ê³¼ ê°™ì€ì§€ ë¹„êµ
        if (tmp === stack[stack.length - 1]) {
          stack.pop();
          answer += 2;
        } else stack.push(tmp);
        // ðŸ’¡ í•œ ë²ˆ ì°¾ìœ¼ë©´ ë” ì´ìƒ íƒìƒ‰í•˜ì§€ ì•Šë„ë¡ forë¬¸ì„ ë©ˆì¶°ì£¼ì–´ì•¼ í•¨!!
        break;
      }
    }
  });

  return answer;
};

console.log(
  solution(
    [
      [0, 0, 0, 0, 0],
      [0, 0, 1, 0, 3],
      [0, 2, 5, 0, 1],
      [4, 2, 4, 4, 2],
      [3, 5, 1, 3, 1],
    ],
    [1, 5, 3, 5, 1, 2, 1, 4]
  )
);
