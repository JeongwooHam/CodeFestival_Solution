/*
[ê²°í˜¼ì‹]
í˜„ìˆ˜ëŠ” ë‹¤ìŒ ë‹¬ì— ê²°í˜¼ì„ í•©ë‹ˆë‹¤.
í˜„ìˆ˜ëŠ” ê²°í˜¼ì‹ í”¼ë¡œì—°ì„ ì¥ì†Œë¥¼ ë¹Œë ¤ 3ì¼ê°„ ì‰¬ì§€ ì•Šê³  í•˜ë ¤ê³  í•©ë‹ˆë‹¤.
í”¼ë¡œì—°ì— ì°¸ì„í•˜ëŠ” ì¹œêµ¬ë“¤ Nëª…ì˜ ì°¸ì„í•˜ëŠ” ì‹œê°„ì •ë³´ë¥¼ í˜„ìˆ˜ëŠ” ì¹œêµ¬ë“¤ì—ê²Œ ë¯¸ë¦¬ ìš”êµ¬í–ˆìŠµë‹ˆë‹¤.
ê° ì¹œêµ¬ë“¤ì€ ìì‹ ì´ ëª‡ ì‹œì— ë„ì°©í•´ì„œ ëª‡ ì‹œì— ë– ë‚  ê²ƒì¸ì§€ í˜„ìˆ˜ì—ê²Œ ì•Œë ¤ì£¼ì—ˆìŠµë‹ˆë‹¤.
í˜„ìˆ˜ëŠ” ì´ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ í”¼ë¡œì—° ì¥ì†Œì— ë™ì‹œì— ì¡´ì¬í•˜ëŠ” ìµœëŒ€ ì¸ì›ìˆ˜ë¥¼ êµ¬í•˜ì—¬ 
ê·¸ ì¸ì›ì„ ìˆ˜ìš©í•  ìˆ˜ ìˆëŠ” ì¥ì†Œë¥¼ ë¹Œë¦¬ë ¤ê³  í•©ë‹ˆë‹¤. 
ì—¬ëŸ¬ë¶„ì´ í˜„ìˆ˜ë¥¼ ë„ì™€ì£¼ì„¸ìš”.
ë§Œì•½ í•œ ì¹œêµ¬ê°€ ì˜¤ëŠ” ì‹œê°„ 13, ê°€ëŠ”ì‹œê°„ 15ë¼ë©´ 
ì´ ì¹œêµ¬ëŠ” 13ì‹œ ì •ê°ì— í”¼ë¡œì—° ì¥ì— ì¡´ì¬í•˜ëŠ” ê²ƒì´ê³  15ì‹œ ì •ê°ì—ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.
*/

/*
ğŸ¥¸ ì˜ˆìƒ í’€ì´ë²•
- (ëë‚˜ëŠ” ì‹œê°„ - ì‹œì‘ ì‹œê°„)ì´ ê°„ ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤.
- ì‹œì‘ ì‹œê°„ì´ í•´ë‹¹ ì¹œêµ¬ì˜ ì‹œì‘ ì‹œê°„ê³¼ ê°™ê±°ë‚˜ í° || ë ì‹œê°„ì´ í•´ë‹¹ ì¹œêµ¬ì˜ ë ì‹œê°„ë³´ë‹¤ ì‘ì€ ì¹œêµ¬ì˜ ìˆ˜ë¥¼ Cnt ++

ğŸš© í•´ë‹µ
1. í•œ ì¹œêµ¬ë¥¼ sì™€ eë¡œ ìª¼ê° ë‹¤. > [14, s], [18, e], [12, s], [15, e], ...
2. ìœ„ì˜ ë°°ì—´ì„ ì •ë ¬í•œë‹¤.
3. âš ï¸ ê°™ì€ ìˆ˜ì¼ ê²½ìš° eê°€ ë¨¼ì € ì˜¤ê³  sê°€ ë‚˜ì¤‘ì— ì™€ì•¼ í•œë‹¤.
4. së¥¼ ë§Œë‚˜ë©´ ++, eë¥¼ ë§Œë‚˜ë©´ --
*/

const solution = (arr) => {
  let answer = Number.MIN_SAFE_INTEGER;
  // íƒ€ì„ë¼ì¸
  let tl = [];
  for (let x of arr) {
    tl.push(x[0], "s");
    tl.push(x[1], "e");
  }
  tr.sort((a, b) => {
    // ì‹œê°„ì´ ê°™ë‹¤ë©´ eê°€ ë¨¼ì € ì˜¤ë„ë¡ ë¬¸ìì—´ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬ (ì•„ìŠ¤í‚¤ì½”ë“œ ê¸°ì¤€)
    if (a[0] === b[0]) return a[1].charCodeAt() - b[1].charCodeAt();
    else return a[0] - b[0];
  });
  let cnt = 0;
  for (let x of tl) {
    if (x[1] === "s") cnt++;
    else cnt--;
    answer = Math.max(answer, cnt);
  }

  return answer;
};

console.log(
  solution([
    [14, 18],
    [12, 15],
    [15, 20],
    [20, 30],
    [5, 14],
  ])
);
