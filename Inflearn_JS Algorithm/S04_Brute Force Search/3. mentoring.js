/*
[ë©˜í† ë§]
í˜„ìˆ˜ë„¤ ë°˜ ì„ ìƒë‹˜ì€ ë°˜ í•™ìƒë“¤ì˜ ìˆ˜í•™ì ìˆ˜ë¥¼ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ë©˜í† ë§ ì‹œìŠ¤í…œì„ ë§Œë“¤ë ¤ê³  í•©ë‹ˆë‹¤.
ë©˜í† ë§ì€ ë©˜í† ì™€ ë©˜í‹°ê°€ í•œ ì§ì´ ë˜ì–´ ë©˜í† ê°€ ë©˜í‹°ì˜ ìˆ˜í•™ê³µë¶€ë¥¼ ë„ì™€ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤.
ì„ ìƒë‹˜ì€ míšŒì˜ ìˆ˜í•™ í…ŒìŠ¤íŠ¸ ë“±ìˆ˜ë¥¼ í†µí•´ ë©˜í† ì™€ ë©˜í‹°ë¥¼ ì •í•©ë‹ˆë‹¤.
ë§Œì•½ Aí•™ìƒì´ ë©˜í† ì´ê³  Bí•™ìƒì´ ë©˜í‹°ì¸ ì§ì´ ìˆë‹¤ë©´ Aí•™ìƒì€ më²ˆì˜ ìˆ˜í•™í…ŒìŠ¤íŠ¸ì—ì„œ ëª¨ë‘ Bí•™ìƒë³´ë‹¤ ë“±ìˆ˜ê°€ ì•ì„œì•¼ í•©ë‹ˆë‹¤.
më²ˆì˜ ìˆ˜í•™ ì„±ì ì´ ì£¼ì–´ì§€ë©´ ë©˜í† ì™€ ë©˜í‹°ê°€ ë˜ëŠ” ì§ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê²½ìš°ê°€ ì´ ëª‡ ê°€ì§€ì¸ì§€ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì„¸ìš”.
*/

/*
ğŸ¥¸ ì˜ˆìƒ í’€ì´ë²•
1. 1ë²ˆ-4ë²ˆ í•™ìƒì— ëŒ€í•´ indexofë¥¼ ì‚¬ìš©í•œ ë°˜ë³µë¬¸ì„ ëŒë ¤ [1íšŒì°¨ ì„±ì , 2íšŒì°¨ ì„±ì , 3íšŒì°¨ ì„±ì ]ì´ ë‹´ê¸´ ë°°ì—´ì„ ì¶”ì¶œí•œë‹¤.
2. 1ë²ˆ í•™ìƒë¶€í„° ëª¨ë“  ìš”ì†Œê°€ ìì‹ ë³´ë‹¤ ë‹¤ ë‚®ì€ í•™ìƒì´ ìˆëŠ”ì§€ ì°¾ëŠ”ë‹¤.
3. í•´ë‹¹ë˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•˜ë©´ flagë³€ìˆ˜ì— 1ì„ ë”í•œë‹¤.
*/

const solution = (test) => {
  let answer = 0,
    tmp = [];
  m = test.length; // ì‹œí—˜ íšŸìˆ˜
  n = test[0].length; // í•™ìƒ ìˆ˜

  // ë©˜í†  ê¸°ì¤€
  for (let i = 0; i <= n; i++) {
    // ë©˜í‹° ê¸°ì¤€
    for (let j = 0; j <= n; j++) {
      // ì‹œí—˜ íšŸìˆ˜
      let cnt = 0; // ë©˜í†  ë©˜í‹°ê°€ ì •í•´ì§„ í›„ ì´ˆê¸°í™”
      for (let k = 0; k < m; k++) {
        let pi = (pj = 0);
        // ë“±ìˆ˜
        for (let s = 0; s < n; s++) {
          // í•´ë‹¹ íšŒì°¨ í•´ë‹¹ ë“±ìˆ˜ì— í•´ë‹¹ í•™ìƒì´ ìˆë‹¤ë©´?
          // ië²ˆ í•™ìƒê³¼ jë²ˆ í•™ìƒì˜ ë“±ìˆ˜ ê²°ì •
          if (test[k][s] === i) pi = s;
          if (test[k][s] === j) pj = s;
        }
        if (pi < pj) cnt++;
      }
      if (cnt === m) {
        // ëª¨ë“  í…ŒìŠ¤íŠ¸ì—ì„œ ë©˜í† ê°€ ë©˜í‹°ë³´ë‹¤ ë“±ìˆ˜ê°€ ë†’ë‹¤ë©´
        answer++;
        // í˜ì–´ë¥¼ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´
        tmp.push([i, j]);
      }
    }
  }
};

console.log(
  solution([
    [3, 4, 1, 2],
    [4, 3, 2, 1],
    [3, 1, 4, 2],
  ])
);
